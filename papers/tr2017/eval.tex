\section{Evaluation}
\label{sec:evaluate}

\subsection{CODAL}

Comparing CODAL to other runtime environments like mbed or Arduino is difficult, as each was architected with different design considerations in mind. In the following text, we therefore perform a cost benefit analysis of each solution, showing the benefits or drawbacks of each.

Interesting metrics for CBA:

functionality
* Multi threaded
* Higher level types


usability
* Interrupt safe.
*


* RAM consumption
* Flash consumption


% - Profile fibers, how much do they actually use? are they any better?
%     - average RAM consumption for X
%     - Stack is typically small...
%     - types aid the stack size (heap allocated)
% - Compare memory allocator to lib c? (probably not that interesting)
% - benefits of componentisation?
%     - reusability, extensibility
% - How well does \MC + codal perform on each device? (SAMD, ATMEGA, NRF52)
%     - \MC + codal, native codal, mbed.
%     - cost benefit analysis of each.
%     - memory (flash and RAM) consumption
%     - CPU cycles
%         - context switch
%         - cost of events
%         - code gen, compare against micropython / espruino
%     - energy efficiency
%         - environmental sensing across 3 different platforms, mbed, espruino, codal

\subsection{Implementation}

% •	CODAL (SAMD21 and AVR): base runtime (C++ only)
% •	pxt
% •	pxt-common-packages: C++ and Static TypeScript
% •	pxt-adafruit
% •	pxt-arduino-uno
% •	pxt-monaco, pxt-blockly

\subsection{Benchmarks}

\subsection{Performance evaluation}

% •	\MC and CODAL Performance compared to raw Arduino
% o	Compile-time (end user)
% o	Code size
% o	Performance
% •	Runtime measurements
% o	Energy consumption
% - efficient use of hardware resources, compared to Arduino, which uses spin loops and doesn't always use the hardware (bit bangs instead)
% o	Performance
